<!-- nog te doen 
    -beveiliging bij dubbelklikken op ijsbollen


-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ijsjes medric</title>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <link rel="stylesheet" href="ijskar.css">
    <!-- <meta http-equiv="refresh" content="20"> -->
    <script>
        
        var tellerTotaal = 0
        var tellerTotaalmax = 3
        var tellerbollen = 3
        var tellerkeren = 0
        var totaalprijs = 0
        var tussentotaal = 0
        var oproepzin = ""
        var tekst = ""
        $(document).ready(function(){
            function ToevoegenBollen() {
                $("div.bollen").append(`
                    <li alt="niet"><img src="leeg ijsbol.png" alt="foto2"  style="list-style-type: none;"></li>
                    <li alt="niet"><img src="leeg ijsbol.png" alt="foto2"  style="list-style-type: none;"></li>
                `);
            }
            $(document).on("click", "div.bollen li", function(){
                if ($(this).attr("alt") === "niet")
                {
                    alert("goed")
                    $(this).html(`
                    <div class="smaak">
                        <ul aria-placeholder="a">
                            <li><img src="aarbei ijsbol.PNG" alt="aardbei (0.50)" ></li>
                            <li><img src="vanille ijsbol.PNG" alt="vanille (0.50)" ></li>
                            <li><img src="chocolade ijsbol.PNG" alt="chocolade (0.75)" ></li>
                        </ul>
                    </div>
                `)
                $("div.bollen ul").css("width", "100%");
                $(this).attr("alt", "wel") 
                }
            })
           
            $(document).on("click","div.smaak li img",function(){
                if ($(this).parent().parent("ul").attr("aria-placeholder") !== "a")
                {
                $(oproepzin).html("")
                tellerTotaal -= 1
                }
                $(this).parent().siblings().removeClass("rand")
                $(this).parent().addClass("rand")
                $(this).parent().parent("ul").attr("aria-placeholder", $(this).attr("alt"))
                
                    // if ($(this).attr("alt") === "chocolade (0.75)")
                    // {
                    //     tussentotaal += 0.75
                    // } else {
                    //     tussentotaal += 0.50
                    // }

                    if (tellerTotaal < tellerTotaalmax) {
                    
                        tellerTotaal += 1
                        oproepzin = "#" + tellerTotaal
                        $(oproepzin).append("bol " + tellerTotaal + ": " +  $(this).attr("alt") + "<br>")
                        tekst = $(this).attr("alt")
                    } else {
                        alert("je hebt je maximale ijsbollen al bereikt")
                    } 
            })
            $(document).on("click",'div.verpakking li',function(){
                $(this).siblings().removeClass("rand")
                $(this).toggleClass("rand")

                if ($(this).children().attr("alt") === "coupeXL (2.00)"){
                     tellerTotaalmax = 5                                      
                if (tellerbollen < tellerTotaalmax) {
                    if (tellerkeren === 0) {
                        ToevoegenBollen();
                        tellerkeren += 1
                    }
                    else
                    {
                        $("div.bollen li img[alt='foto2']").show();
                    }
                    tellerbollen += 2
                }}
                if ($(this).children().attr("alt") != "coupeXL (2.00)"){
                     tellerTotaalmax = 3
                     $("div.bollen li img[alt='foto2']").hide();
                     tellerbollen -= 2
                    }
                $("#vormx").html("")
                $("#vormx").append("Je hebt gekozen voor de vorm: " + $(this).children().attr("alt"))
                if ($(this).children().attr("alt") === "coupeXL (2.00)")
                {
                    totaalprijs += 2.00
                }
                else
                {
                    totaalprijs += 1.00
                }
                }
            )
            $(document).on("click",'div.sauzen li',function(){
                $(this).siblings().removeClass("rand")
                $(this).toggleClass("rand")
                $("#sauzenx").html("")
                $("#sauzenx").append("De saus die je hebt gekozen: " + $(this).children().attr("alt"))
                if ($(this).children().attr("alt") === "caramelsaus (1.50)")
                {
                    totaalprijs += 1.50
                }
                else
                {
                    totaalprijs += 1.00
                }
            })
            $(document).on("click",'div.extras li',function(){
                $(this).siblings().removeClass("rand")
                $(this).toggleClass("rand")
                $("#extrasx").html("")
                $("#extrasx").append("Leuke extra! " + $(this).children().attr("alt"))
                if ($(this).children().attr("alt") === "waaiers (1.00)")
                {
                    totaalprijs += 1.00
                }
                else
                {
                    totaalprijs += 0.50
                }
            })
           
          
        

            $("#Overzicht").on("click", function(){
                $("#rechts").show()
                var naam = $("#naam").val()
                $("#Aanspreking").html("")
                $("#Aanspreking").append("hallo " + naam + ` zie hier een overzicht van je bestelling`)
              
            })
            $("#toonprijs").on("click", function(){
                for (var i = 1; i <= 5; i++) {
                var itemId = "#" + i;
                if ($(itemId).html !== ""){
                    if ($(itemId).html === "bol " + tellerTotaal + ": " +  "chocolade (0.75)" + "<br>")
                     {
                        totaalprijs += 0.75
                     } else { 
                        totaalprijs += 0.50
                     }
                    }
            }
                
                $("#prijsx").html("")
                $("#prijsx").append("Te betalen: " + totaalprijs + "euro")
            })
        })
    </script>

</head>
<body>
    
    <fieldset id="links">
        <legend>geef je bestelling in:</legend>
        <label for="naam">Wat is uw naam?</label>
        <input type="text" id="naam">
        <br>
        <label for="bollen">aantal bollen</label>
        <div class="bollen">
            <ul>
                <li alt="niet"><img src="leeg ijsbol.png" alt="foto" ></li>
                <li alt="niet"><img src="leeg ijsbol.png" alt="foto" ></li>
                <li alt="niet"><img src="leeg ijsbol.png" alt="foto" ></li>
                
            </ul>
        </div>
        <br>
        <label for="verpakking">welke verpakking?</label>
        <div class="verpakking">
            <ul>
                <li><img src="hoorntjeleeg.jpg" alt="hoorntje (1.00)"></li>
                <li><img src="ijspotjeleeg.jpg" alt="potje (1.00)"></li>
                <li><img src="ijscoupexl.jpg" alt="coupeXL (2.00)"></li>
            </ul>
        </div>
        <label for="sauzen">welke saus?</label>
        <div class="sauzen">
            <ul>
                <li><img src="chocoladesaus.jpg" alt="chocoladesaus (1.00)"></li>
                <li><img src="caramelsaus.jpg" alt="caramelsaus (1.50)"></li>
                <li><img src="aardbeisaus.webp" alt="aardbeisaus (1.00)"></li>
            </ul>
        </div>
        <label for="extra">zin in wat extras?</label>
        <div class="extras">
            <ul>
                <li><img src="bresiliennenootjes.jpg" alt="bresiliennenootjes (0.50)"></li>
                <li><img src="smarties.jpg" alt="smarties (0.50)"></li>
                <li><img src="waaiers.jpg" alt="waaiers (1.00)"></li>
            </ul>
        </div>
        <button id="Overzicht">Toon overzicht</button>
    </fieldset>

    <fieldset id="rechts" hidden>
        <legend>Bestelling</legend>
        <label for="Aanspreking" id="Aanspreking">Hallo </label>
        <br>
        <br>
        <br>
        
        <ul id="verzamelingbollen">
            <li id="1"></li>
            <li id="2"></li>
            <li id="3"></li>
            <li id="4"></li>
            <li id="5"></li>
        </ul>
        <br>
        <br>
        <label for="vorm" id="vormx"></label>
        <br>
        <br>
        <label for="sauzen" id="sauzenx"></label>
        <br>
        <br>
        <label for="extras" id="extrasx"></label>
        <br>
        <br>
        <button id="toonprijs">Toon prijs</button>
        <br>
        <label for="prijs" id="prijsx"></label>
    </fieldset>
</body>
</html>